<tr id="dag-{{ data.dag.dag_id }}">
    <td>
        <a href="{{ url_for('Airflow.'+ data.dag.get_default_view(), dag_id=data.dag.dag_id) }}"
           title="{{ data.dag.description[0:80] + 'â€¦' if data.dag.description and data.dag.description|length > 80 else data.dag.description|default('', true) }}">
            <strong>{{ data.dag.dag_id }}</strong>
        </a>
        <div>
            {% for tag in data.dag.tags | sort(attribute='name') %}
                <span class="label label-info" style="margin: 6px 6px 0 0;">
                  {{ tag }}
                </span>
            {% endfor %}
        </div>
    </td>
    <td>
        {% for owner in data.dag.owner.split(",") %}
            <span class="label label-default"
               style="margin: 3px 6px 3px 0;">
                {{ owner | trim }}
            </span>
        {% endfor %}
    </td>
    <td>
        <span class="label label-default schedule">
            {{ data.dag.schedule_interval }}
        </span>
        {% if data.dag is defined and data.dag.timetable_description %}
            <span class="material-icons text-muted js-tooltip" aria-hidden="true"
                  data-original-title="Schedule: {{ data.dag.timetable_description|string }}">info</span>
        {% endif %}
    </td>
    <td>
        {% if data.is_paused_here %}
            <button class="btn btn-success"
                    hx-post="{{ url_for('Starship.dag_cutover_row', deployment=session.selectedAstroDeployment or 'undefined', dag_id=data.dag.dag_id, dest='local', action='unpause') }}"
                    hx-target="#dag-{{ data.dag.dag_id }}"
                    hx-swap="outerHTML"
                    onclick="this.disabled=true;"
            >
                <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
            </button>
        {% else %}
            <button class="btn btn-danger"
                    hx-post="{{ url_for('Starship.dag_cutover_row', deployment=session.selectedAstroDeployment or 'undefined', dag_id=data.dag.dag_id, dest='local', action='pause') }}"
                    hx-target="#dag-{{ data.dag.dag_id }}"
                    hx-swap="outerHTML"
                    onclick="this.disabled=true;"
            >
                <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
            </button>
        {% endif %}
    </td>
    <td>
        {% if not data.is_on_astro %}
            <button class="btn btn-secondary" disabled>
                <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
            </button>
        {% elif data.has_history_on_astro %}
            <button class="btn btn-default" disabled>
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
            </button>
        {% else %}
            <button class="btn btn-default"
                    hx-post="{{ url_for('Starship.dag_cutover_row', deployment=session.selectedAstroDeployment or 'undefined', dag_id=data.dag.dag_id, dest='astro', action='migrate') }}"
                    hx-target="#dag-{{ data.dag.dag_id }}"
                    hx-swap="outerHTML"
                    onclick="this.disabled=true;"
            >
                <span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
            </button>
        {% endif %}
    </td>
    <td>
        {% if not data.is_on_astro %}
            <button class="btn btn-secondary" disabled>
                <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
            </button>
        {% elif data.is_paused_on_astro %}
            <button class="btn btn-success"
                    hx-post="{{ url_for('Starship.dag_cutover_row', deployment=session.selectedAstroDeployment or 'undefined', dag_id=data.dag.dag_id, dest='astro', action='unpause') }}"
                    hx-target="#dag-{{ data.dag.dag_id }}"
                    hx-swap="outerHTML"
                    onclick="this.disabled=true;"
            >
                <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
            </button>
        {% else %}
            <button class="btn btn-danger"
                    hx-post="{{ url_for('Starship.dag_cutover_row', deployment=session.selectedAstroDeployment or 'undefined', dag_id=data.dag.dag_id, dest='astro', action='pause') }}"
                    hx-target="#dag-{{ data.dag.dag_id }}"
                    hx-swap="outerHTML"
                    onclick="this.disabled=true;"
            >
                <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
            </button>
        {% endif %}
    </td>
</tr>
